"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const FilterMetadata_1 = require("./FilterMetadata");
const DependencyRegistry_1 = require("../di/DependencyRegistry");
const HandlerRegistry_1 = require("./HandlerRegistry");
class FilterRegistry {
    static registerFilter(type) {
        DependencyRegistry_1.DependencyRegistry.registerComponent(type);
        const filterMetadata = this.getFilter(type);
        const handlerMetadata = HandlerRegistry_1.HandlerRegistry.getHandler(type, 'use');
        filterMetadata.handler = handlerMetadata;
    }
    static getFilter(type) {
        let filterMetadata = this._filters.get(type);
        if (typeof filterMetadata === 'undefined') {
            filterMetadata = new FilterMetadata_1.FilterMetadata(type);
            this._filters.set(type, filterMetadata);
        }
        return filterMetadata;
    }
}
FilterRegistry._filters = new Map();
FilterRegistry.filters = FilterRegistry._filters;
exports.FilterRegistry = FilterRegistry;
//# sourceMappingURL=FilterRegistry.js.map