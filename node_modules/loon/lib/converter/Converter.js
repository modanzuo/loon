"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 * Converter is used to convert data to another data format.
 *
 * Supporting following use case:
 *
 *  convert js object to a class instance
 *  convert a class instance to an object
 *  convert an object to another object
 *
 *
 */
class Converter {
    constructor(options) {
        this._silent = true;
        this._validate = false;
        if (options) {
            if (typeof options.returnType !== 'undefined') {
                this._returnType = options.returnType;
            }
            if (typeof options.silent !== 'undefined') {
                this._silent = options.silent;
            }
            if (typeof options.validate !== 'undefined') {
                this._validate = options.validate;
            }
            if (typeof options.template !== 'undefined') {
                this._template = options.template;
            }
        }
    }
    use(template) {
        this._template = template;
        return this;
    }
    convert(from) {
        const result = this._returnType ? new this._returnType() : {};
        let template = {};
        if (this._template) {
            template = this._template;
        }
        else {
            Object.keys(from).forEach(key => template[key] = key);
        }
        Object.keys(template).forEach(key => {
            const targetKey = template[key];
            const targetValue = from[key];
            result[targetKey] = targetValue;
        });
        return result;
    }
}
exports.Converter = Converter;
//# sourceMappingURL=Converter.js.map